/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package trc.md.starter;

import com.mdaq.trc.marketdata.client.MarketDataSubscriber;
import com.mdaq.trc.marketdata.client.MarketDataSubscriberFactory;
import com.mdaq.trc.marketdata.client.model.SslConfig;

public class App {
    public static void main(String[] args)  {
        ConnectionListener connectionListener = new ConnectionListener();
        MarketDataSubscriber subscriber = MarketDataSubscriberFactory.createSubscriber();
        ClassLoader classLoader = ClassLoader.getSystemClassLoader();

        //demo purpose only. Proper configuration should be used to provide truststore path.
        String trustStorePath = classLoader.getResource("client.truststore").getPath();

        SslConfig sslConfig = new SslConfig(null, null, trustStorePath, "gxw9dck*czu5XQW8azp");
        subscriber.connect("13.250.15.157", 56100, "test-user", "test-pw", sslConfig, connectionListener);

        // Disconnect on application close
        // subscriber.disconnect();
    }
}
